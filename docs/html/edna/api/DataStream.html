<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>edna.api.DataStream API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>edna.api.DataStream</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from __future__ import annotations
from typing import List

from edna.core.plans.streamgraph import StreamGraph
from edna.core.execution.context import StreamingContext

from edna.ingest.streaming import BaseStreamingIngest
from edna.emit import BaseEmit

from edna.core.plans.streamgraph import SingleOutputStreamGraphNode
from edna.types.enums import SingleOutputStreamGraphNodeType
from edna.types.enums import SingleOutputStreamGraphNodeProcessType
from edna.process.map import Map
from edna.process.filter import Filter
from edna.process.flatten import Flatten

class DataStream:
    &#34;&#34;&#34;DataStream exposes a fluent api for building edna jobs.

    Attributes:
        stream_graph (StreamGraph): The StreamGraph for this DataStream.
        graph_heads (List[int]): The heads for this DataStream within the StreamGraph.
        streaming_context (StreamingContext): The StreamingContext associated with this DataStream
        stream_id (int): The unique id for this DataStream
        datastream_name (str): A name for this DataStream
        primary_head_idx (int): The index of the primary head in `graph_heads`
    &#34;&#34;&#34;
    stream_graph: StreamGraph
    graph_heads: List[int]
    streaming_context: StreamingContext
    stream_id : int
    datastream_name : str
    primary_head_idx: int


    def __init__(self, ingest: BaseStreamingIngest, streaming_context: StreamingContext, stream_id: int, ingest_name: str = None, datastream_name: str = None):
        &#34;&#34;&#34;Initialize a DataStream instance with the provided ingest primitive.

        Args:
            ingest (BaseStreamingIngest): An ingest primitive
            streaming_context (StreamingContext): The StreamingContext for this DataStream
            stream_id (int): The id for this DataStream
            ingest_name (str, optional): The name of the ingest node. Defaults to None.
            datastream_name (str, optional): The name of the DataStream. Defaults to None.
        &#34;&#34;&#34;
        # Build a node with a node-id and node-name
        self.stream_graph = StreamGraph()
        self.graph_heads = []
        self.streaming_context = streaming_context
        self.stream_id = stream_id
        if datastream_name is not None:
            self.datastream_name = datastream_name
        else:
            self.datastream_name = &#34;default&#34;
        self.primary_head_idx = 0
        ingest_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.INGEST, 
                        node_id=self.streaming_context.getNewStreamingNodeId(), name=ingest_name,node_callable=ingest)
        self.addIngestNode(ingest_node)

    def getStreamId(self) -&gt; int:
        &#34;&#34;&#34;Returns the id of this DataStream

        Returns:
            int: The id of this DataStream
        &#34;&#34;&#34;
        return self.stream_id
    
    def getStreamName(self) -&gt; str:
        &#34;&#34;&#34;Returns the name of this DataStream

        Returns:
            str: The name of this DataStream
        &#34;&#34;&#34;
        return self.datastream_name
    
    def addIngestNode(self, node: SingleOutputStreamGraphNode):
        &#34;&#34;&#34;Adds the provided ingest node to the DataStream

        Args:
            node (SingleOutputStreamGraphNode): A StreamGraphNode wrapping an ingest primitive
        &#34;&#34;&#34;
        self.stream_graph.addNode(node)
        self.graph_heads = [self.stream_graph.getHeadNodeIndex()]
        self.primary_head_idx = 0


    def addSingleOutputStreamNode(self, node: SingleOutputStreamGraphNode):
        &#34;&#34;&#34;Adds a SingleOutputStreamGraphNode to the DataStream, and update the heads.

        Args:
            node (SingleOutputStreamGraphNode): The StreamGraphNode to add
        &#34;&#34;&#34;
        # Add a single output stream node to the graph
        self.stream_graph.addNodeToHead(node)
        self.graph_heads = [self.stream_graph.getHeadNodeIndex()]
        self.primary_head_idx = 0
        

    

    # ----------------------------------------------------------------------------------
    def map(self, map_process : Map, process_name: str = None) -&gt; DataStream:
        &#34;&#34;&#34;Adds a Map process primitive to the current head node and returns the DataStream object

        Args:
            map_process (Map): A Map process to add to the DataStream
            process_name (str, optional): The name for this node. Defaults to None.

        Returns:
            DataStream: An updated DataStream instance
        &#34;&#34;&#34;
        map_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.PROCESS, 
                            process_node_type=SingleOutputStreamGraphNodeProcessType.MAP,
                            node_id=self.streaming_context.getNewStreamingNodeId(), 
                            name=process_name,
                            node_callable=map_process)
        self.addSingleOutputStreamNode(map_node)
        return self

    def filter(self, filter_process : Filter, process_name: str = None) -&gt; DataStream:
        &#34;&#34;&#34;Adds a Filter process primitive to the current head node and returns the DataStream object

        Args:
            filter_process (Filter): A Filter process to add to the DataStream
            process_name (str, optional): The name for this node. Defaults to None.

        Returns:
            DataStream: An updated DataStream instance
        &#34;&#34;&#34;
        filter_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.PROCESS,
                            process_node_type=SingleOutputStreamGraphNodeProcessType.FILTER,
                            node_id=self.streaming_context.getNewStreamingNodeId(), 
                            name=process_name,
                            node_callable=filter_process)
        self.addSingleOutputStreamNode(filter_node)
        return self

    def flatten(self, flatten_process : Flatten, process_name: str = None) -&gt; DataStream:
        &#34;&#34;&#34;Adds a Filter process primitive to the current head node and returns the DataStream object

        Args:
            flatten_process (Flatten): A Flatten process to add to the DataStream
            process_name (str, optional): The name for this node. Defaults to None.

        Returns:
            DataStream: An updated DataStream instance
        &#34;&#34;&#34;
        flatten_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.PROCESS,
                            process_node_type=SingleOutputStreamGraphNodeProcessType.FLATTEN,
                            node_id=self.streaming_context.getNewStreamingNodeId(), 
                            name=process_name,
                            node_callable=flatten_process)
        self.addSingleOutputStreamNode(flatten_node)
        return self

    

    # ------------------------------------------------------------------------------------
    def emit(self, emit_process: BaseEmit, emit_name: str = None) -&gt; DataStream:
        &#34;&#34;&#34;Adds an emit process primitive to the current head node and returns the DataStream object

        Args:
            emit_process (BaseEmit): An Emit primitive to add to the DataStream
            emit_name (str, optional): The name for this node. Defaults to None.

        Returns:
            DataStream: An updated DataStream instance
        &#34;&#34;&#34;
        emit_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.EMIT,
                            node_id=self.streaming_context.getNewStreamingNodeId(),
                            name=emit_name,
                            node_callable=emit_process)
        self.addSingleOutputStreamNode(emit_node)
        return self

    def setNameOfHead(self, name: str) -&gt; DataStream:
        &#34;&#34;&#34;Sets the name of the head node

        Args:
            name (str): The name to set

        Returns:
            DataStream: An updated instance
        &#34;&#34;&#34;
        self.stream_graph.setNodeNameOfHead(name)
        return self

    def getNameOfHead(self) -&gt; str:
        &#34;&#34;&#34;Get the name of the head node

        Returns:
            str: The name of the head node
        &#34;&#34;&#34;
        return self.stream_graph.getNodeNameOfHead()

    def getStreamByNodeName(self, name: str) -&gt; DataStream:
        &#34;&#34;&#34;Sets the provided name to the head node and returns the DataStream instance

        Args:
            name (str): The name to set for the head

        Returns:
            DataStream: An updated instance
        &#34;&#34;&#34;
        self.stream_graph.setNodeHeadByName(node_name=name)
        return self

    def verifyStreamGraph(self) -&gt; bool:
        &#34;&#34;&#34;Verifies the StreamGraph of this DataStream

        Returns:
            bool: Whether the StreamGraph has dangling nodes
        &#34;&#34;&#34;
        return self.stream_graph.verifyGraph()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="edna.api.DataStream.DataStream"><code class="flex name class">
<span>class <span class="ident">DataStream</span></span>
<span>(</span><span>ingest: BaseStreamingIngest, streaming_context: StreamingContext, stream_id: int, ingest_name: str = None, datastream_name: str = None)</span>
</code></dt>
<dd>
<div class="desc"><p>DataStream exposes a fluent api for building edna jobs.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>stream_graph</code></strong> :&ensp;<code>StreamGraph</code></dt>
<dd>The StreamGraph for this DataStream.</dd>
<dt><strong><code>graph_heads</code></strong> :&ensp;<code>List[int]</code></dt>
<dd>The heads for this DataStream within the StreamGraph.</dd>
<dt><strong><code>streaming_context</code></strong> :&ensp;<code>StreamingContext</code></dt>
<dd>The StreamingContext associated with this DataStream</dd>
<dt><strong><code>stream_id</code></strong> :&ensp;<code>int</code></dt>
<dd>The unique id for this DataStream</dd>
<dt><strong><code>datastream_name</code></strong> :&ensp;<code>str</code></dt>
<dd>A name for this DataStream</dd>
<dt><strong><code>primary_head_idx</code></strong> :&ensp;<code>int</code></dt>
<dd>The index of the primary head in <code>graph_heads</code></dd>
</dl>
<p>Initialize a DataStream instance with the provided ingest primitive.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>ingest</code></strong> :&ensp;<code>BaseStreamingIngest</code></dt>
<dd>An ingest primitive</dd>
<dt><strong><code>streaming_context</code></strong> :&ensp;<code>StreamingContext</code></dt>
<dd>The StreamingContext for this DataStream</dd>
<dt><strong><code>stream_id</code></strong> :&ensp;<code>int</code></dt>
<dd>The id for this DataStream</dd>
<dt><strong><code>ingest_name</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The name of the ingest node. Defaults to None.</dd>
<dt><strong><code>datastream_name</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The name of the DataStream. Defaults to None.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DataStream:
    &#34;&#34;&#34;DataStream exposes a fluent api for building edna jobs.

    Attributes:
        stream_graph (StreamGraph): The StreamGraph for this DataStream.
        graph_heads (List[int]): The heads for this DataStream within the StreamGraph.
        streaming_context (StreamingContext): The StreamingContext associated with this DataStream
        stream_id (int): The unique id for this DataStream
        datastream_name (str): A name for this DataStream
        primary_head_idx (int): The index of the primary head in `graph_heads`
    &#34;&#34;&#34;
    stream_graph: StreamGraph
    graph_heads: List[int]
    streaming_context: StreamingContext
    stream_id : int
    datastream_name : str
    primary_head_idx: int


    def __init__(self, ingest: BaseStreamingIngest, streaming_context: StreamingContext, stream_id: int, ingest_name: str = None, datastream_name: str = None):
        &#34;&#34;&#34;Initialize a DataStream instance with the provided ingest primitive.

        Args:
            ingest (BaseStreamingIngest): An ingest primitive
            streaming_context (StreamingContext): The StreamingContext for this DataStream
            stream_id (int): The id for this DataStream
            ingest_name (str, optional): The name of the ingest node. Defaults to None.
            datastream_name (str, optional): The name of the DataStream. Defaults to None.
        &#34;&#34;&#34;
        # Build a node with a node-id and node-name
        self.stream_graph = StreamGraph()
        self.graph_heads = []
        self.streaming_context = streaming_context
        self.stream_id = stream_id
        if datastream_name is not None:
            self.datastream_name = datastream_name
        else:
            self.datastream_name = &#34;default&#34;
        self.primary_head_idx = 0
        ingest_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.INGEST, 
                        node_id=self.streaming_context.getNewStreamingNodeId(), name=ingest_name,node_callable=ingest)
        self.addIngestNode(ingest_node)

    def getStreamId(self) -&gt; int:
        &#34;&#34;&#34;Returns the id of this DataStream

        Returns:
            int: The id of this DataStream
        &#34;&#34;&#34;
        return self.stream_id
    
    def getStreamName(self) -&gt; str:
        &#34;&#34;&#34;Returns the name of this DataStream

        Returns:
            str: The name of this DataStream
        &#34;&#34;&#34;
        return self.datastream_name
    
    def addIngestNode(self, node: SingleOutputStreamGraphNode):
        &#34;&#34;&#34;Adds the provided ingest node to the DataStream

        Args:
            node (SingleOutputStreamGraphNode): A StreamGraphNode wrapping an ingest primitive
        &#34;&#34;&#34;
        self.stream_graph.addNode(node)
        self.graph_heads = [self.stream_graph.getHeadNodeIndex()]
        self.primary_head_idx = 0


    def addSingleOutputStreamNode(self, node: SingleOutputStreamGraphNode):
        &#34;&#34;&#34;Adds a SingleOutputStreamGraphNode to the DataStream, and update the heads.

        Args:
            node (SingleOutputStreamGraphNode): The StreamGraphNode to add
        &#34;&#34;&#34;
        # Add a single output stream node to the graph
        self.stream_graph.addNodeToHead(node)
        self.graph_heads = [self.stream_graph.getHeadNodeIndex()]
        self.primary_head_idx = 0
        

    

    # ----------------------------------------------------------------------------------
    def map(self, map_process : Map, process_name: str = None) -&gt; DataStream:
        &#34;&#34;&#34;Adds a Map process primitive to the current head node and returns the DataStream object

        Args:
            map_process (Map): A Map process to add to the DataStream
            process_name (str, optional): The name for this node. Defaults to None.

        Returns:
            DataStream: An updated DataStream instance
        &#34;&#34;&#34;
        map_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.PROCESS, 
                            process_node_type=SingleOutputStreamGraphNodeProcessType.MAP,
                            node_id=self.streaming_context.getNewStreamingNodeId(), 
                            name=process_name,
                            node_callable=map_process)
        self.addSingleOutputStreamNode(map_node)
        return self

    def filter(self, filter_process : Filter, process_name: str = None) -&gt; DataStream:
        &#34;&#34;&#34;Adds a Filter process primitive to the current head node and returns the DataStream object

        Args:
            filter_process (Filter): A Filter process to add to the DataStream
            process_name (str, optional): The name for this node. Defaults to None.

        Returns:
            DataStream: An updated DataStream instance
        &#34;&#34;&#34;
        filter_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.PROCESS,
                            process_node_type=SingleOutputStreamGraphNodeProcessType.FILTER,
                            node_id=self.streaming_context.getNewStreamingNodeId(), 
                            name=process_name,
                            node_callable=filter_process)
        self.addSingleOutputStreamNode(filter_node)
        return self

    def flatten(self, flatten_process : Flatten, process_name: str = None) -&gt; DataStream:
        &#34;&#34;&#34;Adds a Filter process primitive to the current head node and returns the DataStream object

        Args:
            flatten_process (Flatten): A Flatten process to add to the DataStream
            process_name (str, optional): The name for this node. Defaults to None.

        Returns:
            DataStream: An updated DataStream instance
        &#34;&#34;&#34;
        flatten_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.PROCESS,
                            process_node_type=SingleOutputStreamGraphNodeProcessType.FLATTEN,
                            node_id=self.streaming_context.getNewStreamingNodeId(), 
                            name=process_name,
                            node_callable=flatten_process)
        self.addSingleOutputStreamNode(flatten_node)
        return self

    

    # ------------------------------------------------------------------------------------
    def emit(self, emit_process: BaseEmit, emit_name: str = None) -&gt; DataStream:
        &#34;&#34;&#34;Adds an emit process primitive to the current head node and returns the DataStream object

        Args:
            emit_process (BaseEmit): An Emit primitive to add to the DataStream
            emit_name (str, optional): The name for this node. Defaults to None.

        Returns:
            DataStream: An updated DataStream instance
        &#34;&#34;&#34;
        emit_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.EMIT,
                            node_id=self.streaming_context.getNewStreamingNodeId(),
                            name=emit_name,
                            node_callable=emit_process)
        self.addSingleOutputStreamNode(emit_node)
        return self

    def setNameOfHead(self, name: str) -&gt; DataStream:
        &#34;&#34;&#34;Sets the name of the head node

        Args:
            name (str): The name to set

        Returns:
            DataStream: An updated instance
        &#34;&#34;&#34;
        self.stream_graph.setNodeNameOfHead(name)
        return self

    def getNameOfHead(self) -&gt; str:
        &#34;&#34;&#34;Get the name of the head node

        Returns:
            str: The name of the head node
        &#34;&#34;&#34;
        return self.stream_graph.getNodeNameOfHead()

    def getStreamByNodeName(self, name: str) -&gt; DataStream:
        &#34;&#34;&#34;Sets the provided name to the head node and returns the DataStream instance

        Args:
            name (str): The name to set for the head

        Returns:
            DataStream: An updated instance
        &#34;&#34;&#34;
        self.stream_graph.setNodeHeadByName(node_name=name)
        return self

    def verifyStreamGraph(self) -&gt; bool:
        &#34;&#34;&#34;Verifies the StreamGraph of this DataStream

        Returns:
            bool: Whether the StreamGraph has dangling nodes
        &#34;&#34;&#34;
        return self.stream_graph.verifyGraph()</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="edna.api.DataStream.DataStream.datastream_name"><code class="name">var <span class="ident">datastream_name</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="edna.api.DataStream.DataStream.graph_heads"><code class="name">var <span class="ident">graph_heads</span> : List[int]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="edna.api.DataStream.DataStream.primary_head_idx"><code class="name">var <span class="ident">primary_head_idx</span> : int</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="edna.api.DataStream.DataStream.stream_graph"><code class="name">var <span class="ident">stream_graph</span> : <a title="edna.core.plans.streamgraph.StreamGraph.StreamGraph" href="../core/plans/streamgraph/StreamGraph.html#edna.core.plans.streamgraph.StreamGraph.StreamGraph">StreamGraph</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="edna.api.DataStream.DataStream.stream_id"><code class="name">var <span class="ident">stream_id</span> : int</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="edna.api.DataStream.DataStream.streaming_context"><code class="name">var <span class="ident">streaming_context</span> : <a title="edna.core.execution.context.StreamingContext.StreamingContext" href="../core/execution/context/StreamingContext.html#edna.core.execution.context.StreamingContext.StreamingContext">StreamingContext</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="edna.api.DataStream.DataStream.addIngestNode"><code class="name flex">
<span>def <span class="ident">addIngestNode</span></span>(<span>self, node: SingleOutputStreamGraphNode)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds the provided ingest node to the DataStream</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>node</code></strong> :&ensp;<code>SingleOutputStreamGraphNode</code></dt>
<dd>A StreamGraphNode wrapping an ingest primitive</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def addIngestNode(self, node: SingleOutputStreamGraphNode):
    &#34;&#34;&#34;Adds the provided ingest node to the DataStream

    Args:
        node (SingleOutputStreamGraphNode): A StreamGraphNode wrapping an ingest primitive
    &#34;&#34;&#34;
    self.stream_graph.addNode(node)
    self.graph_heads = [self.stream_graph.getHeadNodeIndex()]
    self.primary_head_idx = 0</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.addSingleOutputStreamNode"><code class="name flex">
<span>def <span class="ident">addSingleOutputStreamNode</span></span>(<span>self, node: SingleOutputStreamGraphNode)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds a SingleOutputStreamGraphNode to the DataStream, and update the heads.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>node</code></strong> :&ensp;<code>SingleOutputStreamGraphNode</code></dt>
<dd>The StreamGraphNode to add</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def addSingleOutputStreamNode(self, node: SingleOutputStreamGraphNode):
    &#34;&#34;&#34;Adds a SingleOutputStreamGraphNode to the DataStream, and update the heads.

    Args:
        node (SingleOutputStreamGraphNode): The StreamGraphNode to add
    &#34;&#34;&#34;
    # Add a single output stream node to the graph
    self.stream_graph.addNodeToHead(node)
    self.graph_heads = [self.stream_graph.getHeadNodeIndex()]
    self.primary_head_idx = 0</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.emit"><code class="name flex">
<span>def <span class="ident">emit</span></span>(<span>self, emit_process: BaseEmit, emit_name: str = None) ‑> <a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></span>
</code></dt>
<dd>
<div class="desc"><p>Adds an emit process primitive to the current head node and returns the DataStream object</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>emit_process</code></strong> :&ensp;<code>BaseEmit</code></dt>
<dd>An Emit primitive to add to the DataStream</dd>
<dt><strong><code>emit_name</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The name for this node. Defaults to None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></code></dt>
<dd>An updated DataStream instance</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def emit(self, emit_process: BaseEmit, emit_name: str = None) -&gt; DataStream:
    &#34;&#34;&#34;Adds an emit process primitive to the current head node and returns the DataStream object

    Args:
        emit_process (BaseEmit): An Emit primitive to add to the DataStream
        emit_name (str, optional): The name for this node. Defaults to None.

    Returns:
        DataStream: An updated DataStream instance
    &#34;&#34;&#34;
    emit_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.EMIT,
                        node_id=self.streaming_context.getNewStreamingNodeId(),
                        name=emit_name,
                        node_callable=emit_process)
    self.addSingleOutputStreamNode(emit_node)
    return self</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.filter"><code class="name flex">
<span>def <span class="ident">filter</span></span>(<span>self, filter_process: Filter, process_name: str = None) ‑> <a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></span>
</code></dt>
<dd>
<div class="desc"><p>Adds a Filter process primitive to the current head node and returns the DataStream object</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>filter_process</code></strong> :&ensp;<code>Filter</code></dt>
<dd>A Filter process to add to the DataStream</dd>
<dt><strong><code>process_name</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The name for this node. Defaults to None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></code></dt>
<dd>An updated DataStream instance</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def filter(self, filter_process : Filter, process_name: str = None) -&gt; DataStream:
    &#34;&#34;&#34;Adds a Filter process primitive to the current head node and returns the DataStream object

    Args:
        filter_process (Filter): A Filter process to add to the DataStream
        process_name (str, optional): The name for this node. Defaults to None.

    Returns:
        DataStream: An updated DataStream instance
    &#34;&#34;&#34;
    filter_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.PROCESS,
                        process_node_type=SingleOutputStreamGraphNodeProcessType.FILTER,
                        node_id=self.streaming_context.getNewStreamingNodeId(), 
                        name=process_name,
                        node_callable=filter_process)
    self.addSingleOutputStreamNode(filter_node)
    return self</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.flatten"><code class="name flex">
<span>def <span class="ident">flatten</span></span>(<span>self, flatten_process: Flatten, process_name: str = None) ‑> <a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></span>
</code></dt>
<dd>
<div class="desc"><p>Adds a Filter process primitive to the current head node and returns the DataStream object</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>flatten_process</code></strong> :&ensp;<code>Flatten</code></dt>
<dd>A Flatten process to add to the DataStream</dd>
<dt><strong><code>process_name</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The name for this node. Defaults to None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></code></dt>
<dd>An updated DataStream instance</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def flatten(self, flatten_process : Flatten, process_name: str = None) -&gt; DataStream:
    &#34;&#34;&#34;Adds a Filter process primitive to the current head node and returns the DataStream object

    Args:
        flatten_process (Flatten): A Flatten process to add to the DataStream
        process_name (str, optional): The name for this node. Defaults to None.

    Returns:
        DataStream: An updated DataStream instance
    &#34;&#34;&#34;
    flatten_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.PROCESS,
                        process_node_type=SingleOutputStreamGraphNodeProcessType.FLATTEN,
                        node_id=self.streaming_context.getNewStreamingNodeId(), 
                        name=process_name,
                        node_callable=flatten_process)
    self.addSingleOutputStreamNode(flatten_node)
    return self</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.getNameOfHead"><code class="name flex">
<span>def <span class="ident">getNameOfHead</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Get the name of the head node</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>The name of the head node</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getNameOfHead(self) -&gt; str:
    &#34;&#34;&#34;Get the name of the head node

    Returns:
        str: The name of the head node
    &#34;&#34;&#34;
    return self.stream_graph.getNodeNameOfHead()</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.getStreamByNodeName"><code class="name flex">
<span>def <span class="ident">getStreamByNodeName</span></span>(<span>self, name: str) ‑> <a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></span>
</code></dt>
<dd>
<div class="desc"><p>Sets the provided name to the head node and returns the DataStream instance</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name to set for the head</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></code></dt>
<dd>An updated instance</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getStreamByNodeName(self, name: str) -&gt; DataStream:
    &#34;&#34;&#34;Sets the provided name to the head node and returns the DataStream instance

    Args:
        name (str): The name to set for the head

    Returns:
        DataStream: An updated instance
    &#34;&#34;&#34;
    self.stream_graph.setNodeHeadByName(node_name=name)
    return self</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.getStreamId"><code class="name flex">
<span>def <span class="ident">getStreamId</span></span>(<span>self) ‑> int</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the id of this DataStream</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>int</code></dt>
<dd>The id of this DataStream</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getStreamId(self) -&gt; int:
    &#34;&#34;&#34;Returns the id of this DataStream

    Returns:
        int: The id of this DataStream
    &#34;&#34;&#34;
    return self.stream_id</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.getStreamName"><code class="name flex">
<span>def <span class="ident">getStreamName</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the name of this DataStream</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>The name of this DataStream</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getStreamName(self) -&gt; str:
    &#34;&#34;&#34;Returns the name of this DataStream

    Returns:
        str: The name of this DataStream
    &#34;&#34;&#34;
    return self.datastream_name</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.map"><code class="name flex">
<span>def <span class="ident">map</span></span>(<span>self, map_process: Map, process_name: str = None) ‑> <a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></span>
</code></dt>
<dd>
<div class="desc"><p>Adds a Map process primitive to the current head node and returns the DataStream object</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>map_process</code></strong> :&ensp;<code>Map</code></dt>
<dd>A Map process to add to the DataStream</dd>
<dt><strong><code>process_name</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The name for this node. Defaults to None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></code></dt>
<dd>An updated DataStream instance</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def map(self, map_process : Map, process_name: str = None) -&gt; DataStream:
    &#34;&#34;&#34;Adds a Map process primitive to the current head node and returns the DataStream object

    Args:
        map_process (Map): A Map process to add to the DataStream
        process_name (str, optional): The name for this node. Defaults to None.

    Returns:
        DataStream: An updated DataStream instance
    &#34;&#34;&#34;
    map_node = SingleOutputStreamGraphNode(node_type=SingleOutputStreamGraphNodeType.PROCESS, 
                        process_node_type=SingleOutputStreamGraphNodeProcessType.MAP,
                        node_id=self.streaming_context.getNewStreamingNodeId(), 
                        name=process_name,
                        node_callable=map_process)
    self.addSingleOutputStreamNode(map_node)
    return self</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.setNameOfHead"><code class="name flex">
<span>def <span class="ident">setNameOfHead</span></span>(<span>self, name: str) ‑> <a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></span>
</code></dt>
<dd>
<div class="desc"><p>Sets the name of the head node</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name to set</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></code></dt>
<dd>An updated instance</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def setNameOfHead(self, name: str) -&gt; DataStream:
    &#34;&#34;&#34;Sets the name of the head node

    Args:
        name (str): The name to set

    Returns:
        DataStream: An updated instance
    &#34;&#34;&#34;
    self.stream_graph.setNodeNameOfHead(name)
    return self</code></pre>
</details>
</dd>
<dt id="edna.api.DataStream.DataStream.verifyStreamGraph"><code class="name flex">
<span>def <span class="ident">verifyStreamGraph</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Verifies the StreamGraph of this DataStream</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>bool</code></dt>
<dd>Whether the StreamGraph has dangling nodes</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def verifyStreamGraph(self) -&gt; bool:
    &#34;&#34;&#34;Verifies the StreamGraph of this DataStream

    Returns:
        bool: Whether the StreamGraph has dangling nodes
    &#34;&#34;&#34;
    return self.stream_graph.verifyGraph()</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="edna.api" href="index.html">edna.api</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="edna.api.DataStream.DataStream" href="#edna.api.DataStream.DataStream">DataStream</a></code></h4>
<ul class="">
<li><code><a title="edna.api.DataStream.DataStream.addIngestNode" href="#edna.api.DataStream.DataStream.addIngestNode">addIngestNode</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.addSingleOutputStreamNode" href="#edna.api.DataStream.DataStream.addSingleOutputStreamNode">addSingleOutputStreamNode</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.datastream_name" href="#edna.api.DataStream.DataStream.datastream_name">datastream_name</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.emit" href="#edna.api.DataStream.DataStream.emit">emit</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.filter" href="#edna.api.DataStream.DataStream.filter">filter</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.flatten" href="#edna.api.DataStream.DataStream.flatten">flatten</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.getNameOfHead" href="#edna.api.DataStream.DataStream.getNameOfHead">getNameOfHead</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.getStreamByNodeName" href="#edna.api.DataStream.DataStream.getStreamByNodeName">getStreamByNodeName</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.getStreamId" href="#edna.api.DataStream.DataStream.getStreamId">getStreamId</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.getStreamName" href="#edna.api.DataStream.DataStream.getStreamName">getStreamName</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.graph_heads" href="#edna.api.DataStream.DataStream.graph_heads">graph_heads</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.map" href="#edna.api.DataStream.DataStream.map">map</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.primary_head_idx" href="#edna.api.DataStream.DataStream.primary_head_idx">primary_head_idx</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.setNameOfHead" href="#edna.api.DataStream.DataStream.setNameOfHead">setNameOfHead</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.stream_graph" href="#edna.api.DataStream.DataStream.stream_graph">stream_graph</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.stream_id" href="#edna.api.DataStream.DataStream.stream_id">stream_id</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.streaming_context" href="#edna.api.DataStream.DataStream.streaming_context">streaming_context</a></code></li>
<li><code><a title="edna.api.DataStream.DataStream.verifyStreamGraph" href="#edna.api.DataStream.DataStream.verifyStreamGraph">verifyStreamGraph</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>